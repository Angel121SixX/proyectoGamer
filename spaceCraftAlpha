""" Importar la bilioteca de Pygame"""

import pygame

""" Una funcion la cual inicializara el videojuego """

def gameStart():

    """ Inicializamos la biblioteca de pygame """
    pygame.init()

    """ Definamos el tamaÃ±o de la Main Frame """

    w = pygame.display.set_mode((1280,720))

    """ Definamos el nombre de el videojuego
    (El nombre se visualizara en la parte superior de la pantalla)"""

    pygame.display.set_caption("RetroFighterX")

    """ Agregemos el fondo de pantalla """

    bg = pygame.image.load('8-bit-pixel-art-city-2o.jpg')

    """ Agregamos la imagen estatica de la nave #1 """

    clock = pygame.time.Clock()

    """ Agregamos la nave al juego como un rectangulo """

    naveStanding = [pygame.image.load('staticSpaceShip.png'), pygame.image.load('staticSpaceShip2.png')]

    """ Agregamos el movimiento de la nave hacia arriba y hacia abajo """

    naveArriba = [pygame.image.load('staticSpaceShip.png'), pygame.image.load('staticSpaceShip2.png')]

    naveAbajo = [pygame.image.load('staticSpaceShip.png'), pygame.image.load('staticSpaceShip2.png')]


    class spaceShip(object):

        def __init__(self, x, y, width, height):
            self.x = x
            self.y = y
            self.width = width
            self.height = height
            self.vel = 5
            self.health = 1250
            self.boost = False
            self.flyCount = 0
            self.alive = True
            self.standing = True
            self.up = False
            self.down = False
            self.atack = False

        def draw(self, win):
            if self.alive == True:
                if self.flyCount + 1 >= 9:
                    self.flyCount = 0

            if not(self.standing):

                if self.up:
                    win.blit(naveArriba[(self.flyCount//3)%2], (self.x, self.y))
                    self.flyCount += 1

                elif self.down:
                    win.blit(naveAbajo[(self.flyCount//3)%2], (self.x, self.y))
                    self.flyCount += 1

            else:
                if self.standing:
                    win.blit(naveStanding[(self.flyCount//3)%2], (self.x, self.y))




    def redrawGameWindow():
        w.blit(bg, (0,0))
        nave.draw(w)
        pygame.display.update()



    nave = spaceShip(100, 400, 340, 145)
    run = True
    while run:
        clock.tick(16.33)
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                run = False

        """ Lector de teclas presionadas """

        keys = pygame.key.get_pressed()

        if keys[pygame.K_UP] and nave.y > nave.vel:
            nave.y -= nave.vel**2.5
            nave.down = True
            nave.up = False
            nave.standing = False

        if keys[pygame.K_DOWN] and nave.y < 900 - nave.width - nave.vel:
            nave.y += nave.vel**2.5
            nave.up = True
            nave.down = False
            nave.standing = False

        redrawGameWindow()

    pygame.quit()


gameStart()

